<mat-card class="container">
  <h2 class="alinear">FORMULARIO DE SOLICITUD CAMBIO DE BANDEJA</h2><br>
  <h2>CASO : EXTRANJERIA - {{ solictudNuber }}</h2>
 <mat-card-content>

  <ng-container>
    <h3 class="alinear">DATOS DE LA OFICINA</h3>
    <table>
      <thead>
        <tr>
          <th>DEPARTAMENTO</th>
          <th>OFICINA</th>
          <th>NOMBRE FUNCIONARIO</th>
          <th>FECHA DE SOLICITUD</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>{{ datosOficina.departamento }}</td>
          <td>{{ datosOficina.oficina }}</td>
          <td>{{ datosOficina.nombre }}</td>
          <td>{{ datosOficina.fecha }}</td>
        </tr>
      </tbody>
    </table>
  </ng-container>

  <mat-divider></mat-divider>

  <ng-container>
    <h3 class="alinear">DATOS DEL CIUDADANO(A)</h3>
    <table>
      <thead>
        <tr>
          <th>NUMERO CEDULA</th>
          <th>NRO COMPLEMENTO</th>
          <th>NOMBRES</th>
          <th>PRIMER APELLIDO</th>
          <th>SEGUNDO APELLIDO</th>
          <th>APELLIDO CASADA</th>
          <th>ESTADO</th>
          <th>IMAGEN</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>{{ datosCiudadano.NroCedulaBolExtRegistros }}</td>
          <td>{{ datosCiudadano.HexadecimalExtRegistros }}</td>
          <td>{{ datosCiudadano.NombresExtRegistros }}</td>
          <td>{{ datosCiudadano.PrimerApExtRegistros }}</td>
          <td>{{ datosCiudadano.SegundoApExtRegistros }}</td>
          <td>{{ datosCiudadano.ApCasadaExtRegistros }}</td>
          <td>{{ datosCiudadano.ApiEstadoExtRegistros }}</td>
          <td></td>
        </tr>
      </tbody>
    </table>
  </ng-container>

  <mat-divider></mat-divider>

  <ng-container >
    <h3 class="alinear">DATOS DEL TRAMITE</h3>
    <table>
      <thead>
        <tr>
          <th colspan="2">DESCRIPCION</th>
          <th colspan="2">ARTICULO</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td colspan="2">{{ datosTramite.descripcion_respuesta }}</td>
          <td colspan="2">{{ datosTramite.articulos_reglamentos_respuesta }}</td>
        </tr>
      </tbody>
    </table>

    <table>
      <thead>
        <tr>
          <th>TIPO SOLICITUD</th>
          <th>DATO ACTUAL</th>
          <th>DATO CORREGIR</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>CAMBIO DE BANDEJA</td>
          <td>{{ datosTramite.dato_anterior_respuesta }}</td>
          <td>{{ datosTramite.dato_correcto_respuesta }}</td>
        </tr>
      </tbody>
    </table>

    <mat-divider></mat-divider>
    <h3 class="alinear">COMENTARIOS DEL CASO</h3>
    <form [formGroup]="formularioRespuesta">
      <table>
        <thead>
          <tr>
            <th>USUARIO</th>
            <th>MENSAJE</th>
            <th colspan="2">ESTADO</th>
            <th>FECHA</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let con of solicitudConversacion">
            <td>
              <div *ngIf="con.usuarioSolicitante !== null">
                {{ con.usuarioSolicitante.nombres+" "+con.usuarioSolicitante.primer_apellido+" "+con.usuarioSolicitante.segundo_apellido }}
              </div>
              <div *ngIf="con.usuarioRespuseta !== null">
                {{ con.usuarioRespuseta.nombres+" "+con.usuarioRespuseta.primer_apellido+" "+con.usuarioRespuseta.segundo_apellido }}
              </div>
            </td>
            <td>{{ con.texto }}</td>
            <td colspan="2">{{ con.estado }}</td>
            <td>{{ con.fechaCreacion }}</td>
          </tr>
          <tr>
            <td colspan="2">
                <mat-form-field>
                  <mat-label>Mensaje de Respuesta</mat-label>
                  <textarea matInput placeholder="Escriba su mensaje...." formControlName="mensaje_adicion" ></textarea>
                </mat-form-field>
            </td>
            <td colspan="2">
              <mat-form-field appearance="fill">
                <mat-label>Tipo Observacion</mat-label>
                <mat-select formControlName="tipo_observacion">
                  <mat-option *ngFor="let da of estadosRespuestas" value="{{ da.value }}">{{ da.nombre }}</mat-option>
                </mat-select>
              </mat-form-field>
            </td>
            <td>
              <button mat-raised-button color="dark" (click)="enviarRespesta()" [disabled]="formularioRespuesta.invalid">Responder</button>
            </td>
          </tr>
        </tbody>
      </table>
    </form>
    <div class="usuario-container fondo">
      <button mat-raised-button color="primary" class="boton-largo" (click)="sanear()">Procesar</button>
    </div>
  </ng-container>




  <mat-divider></mat-divider>

  <mat-divider></mat-divider>

 </mat-card-content>
</mat-card>
